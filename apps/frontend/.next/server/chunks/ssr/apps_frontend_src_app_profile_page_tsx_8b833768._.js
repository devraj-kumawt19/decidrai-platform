module.exports=[9682,a=>{"use strict";var b=a.i(42093),c=a.i(85455),d=a.i(11737),e=a.i(62373),f=a.i(73207);function g({trigger:a,title:d,description:e,confirmText:f="Confirm",cancelText:g="Cancel",destructive:h=!1,onConfirm:i,onCancel:j}){let[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),o=async()=>{n(!0);try{await i(),l(!1)}catch(a){console.error("Confirm action failed:",a)}finally{n(!1)}},p=()=>{l(!1),j?.()};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{onClick:()=>l(!0),className:"cursor-pointer",children:a}),k&&(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onKeyDown:a=>{"Escape"===a.key&&p()},children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:p,"aria-hidden":"true"}),(0,b.jsxs)("div",{role:"alertdialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",className:"relative z-10 w-full max-w-md bg-[var(--background)] border border-[var(--border)] rounded-2xl shadow-xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h2",{id:"confirm-dialog-title",className:"text-xl font-bold mb-2",children:d}),(0,b.jsx)("p",{id:"confirm-dialog-description",className:"text-[var(--muted)]",children:e})]}),(0,b.jsxs)("div",{className:"flex gap-3 p-6 pt-0 justify-end",children:[(0,b.jsx)("button",{type:"button",onClick:p,disabled:m,className:"px-4 py-2 border border-[var(--border)] rounded-lg font-medium hover:bg-[var(--surface)] transition-colors disabled:opacity-50",children:g}),(0,b.jsx)("button",{type:"button",onClick:o,disabled:m,className:`px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 ${h?"bg-red-500 text-white hover:bg-red-600":"bg-[var(--foreground)] text-[var(--background)] hover:opacity-80"}`,children:m?"Please wait...":f})]})]})]})]})}a.i(33303);var h=a.i(77621),i=a.i(8315);let j=(0,i.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),k=(0,i.default)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),l=(0,i.default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),m=(0,i.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),n=(0,i.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),o=(0,i.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),p=(0,i.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function q(){let{user:a,isLoaded:i,isSignedIn:q}=(0,d.useUser)(),[r,s]=(0,c.useState)("saved"),{data:t,isLoading:u}=(0,h.useCurrentUser)(),{data:v,isLoading:w}=(0,h.useSavedTools)(),{data:x,isLoading:y}=(0,h.useAiStack)(),z=(0,h.useUnsaveTool)(),A=(0,h.useRemoveFromAiStack)(),B=(0,h.useUpdateProfile)(),C=(0,h.useDeleteAccount)(),{data:D,isLoading:E}=(0,h.useUserInteractions)({limit:20}),[F,G]=(0,c.useState)(t?.data?.preferences?.emailNotifications??!0),H=v?.data||[],I=x?.data||[];if(!i||u)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)(j,{className:"w-8 h-8 animate-spin text-gray-400"})});if(!q)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center max-w-md",children:[(0,b.jsx)("div",{className:"text-6xl mb-6",children:"ðŸ”"}),(0,b.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Sign In Required"}),(0,b.jsx)("p",{className:"text-[var(--muted)] mb-8",children:"Please sign in to access your profile, saved tools, and AI stack."}),(0,b.jsx)(e.default,{href:"/sign-in",className:"inline-block px-8 py-4 bg-[var(--foreground)] text-[var(--background)] rounded-full font-semibold hover:opacity-80 transition-opacity",children:"Sign In"})]})});let J=[{key:"saved",label:"Saved Tools",icon:(0,b.jsx)(k,{className:"w-4 h-4"}),count:H.length},{key:"stack",label:"AI Stack",icon:(0,b.jsx)(l,{className:"w-4 h-4"}),count:I.length},{key:"history",label:"History",icon:(0,b.jsx)(m,{className:"w-4 h-4"})},{key:"settings",label:"Settings",icon:(0,b.jsx)(n,{className:"w-4 h-4"})}];return(0,b.jsxs)("div",{className:"min-h-screen bg-[var(--background)]",children:[(0,b.jsx)("div",{className:"border-b border-[var(--border)] bg-[var(--surface)]",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsx)("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-[var(--background)] border-2 border-[var(--border)]",children:a?.imageUrl?(0,b.jsx)(f.default,{src:a.imageUrl,alt:a.fullName||"Profile picture",width:80,height:80,className:"w-full h-full object-cover",priority:!0}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-3xl",children:"ðŸ‘¤"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-1",children:a?.fullName||a?.firstName||"User"}),(0,b.jsx)("p",{className:"text-[var(--muted)]",children:a?.primaryEmailAddress?.emailAddress}),t?.data?.profile?.experienceLevel&&(0,b.jsx)("span",{className:"inline-block mt-2 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-sm rounded-full capitalize",children:t.data.profile.experienceLevel})]})]})})}),(0,b.jsx)("div",{className:"border-b border-[var(--border)]",children:(0,b.jsx)("div",{className:"container mx-auto px-4",children:(0,b.jsx)("div",{className:"flex gap-8",children:J.map(a=>(0,b.jsxs)("button",{onClick:()=>s(a.key),className:`py-4 font-medium transition-colors relative flex items-center gap-2 ${r===a.key?"text-[var(--foreground)]":"text-[var(--muted)] hover:text-[var(--foreground)]"}`,children:[a.icon,a.label,void 0!==a.count&&a.count>0&&(0,b.jsx)("span",{className:"ml-1 px-2 py-0.5 bg-gray-200 dark:bg-gray-700 text-xs rounded-full",children:a.count}),r===a.key&&(0,b.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[var(--foreground)]"})]},a.key))})})}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-4xl",children:["saved"===r&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Saved Tools"}),(0,b.jsxs)("span",{className:"text-[var(--muted)]",children:[H.length," tools"]})]}),w?(0,b.jsx)("div",{className:"flex justify-center py-12",children:(0,b.jsx)(j,{className:"w-6 h-6 animate-spin text-gray-400"})}):H.length>0?(0,b.jsx)("div",{className:"space-y-4",children:H.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border border-[var(--border)] rounded-2xl hover:border-[var(--foreground)] transition-colors",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(e.default,{href:`/tools/${a.tool?.slug||a.toolId}`,children:(0,b.jsx)("h3",{className:"text-lg font-bold hover:underline",children:a.tool?.name||"Unknown Tool"})}),(0,b.jsx)("p",{className:"text-sm text-[var(--muted)]",children:a.tool?.tagline||""}),a.notes&&(0,b.jsxs)("p",{className:"mt-2 text-sm text-gray-500 italic",children:["Note: ",a.notes]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("span",{className:"text-xs text-[var(--muted)]",children:["Saved ",new Date(a.savedAt).toLocaleDateString()]}),(0,b.jsx)(g,{trigger:(0,b.jsx)("button",{className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:(0,b.jsx)(o,{className:"w-4 h-4"})}),title:"Remove Saved Tool?",description:"Are you sure you want to remove this tool from your saved list?",confirmText:"Remove",destructive:!0,onConfirm:()=>{z.mutate(a.toolId)}})]})]},a.toolId))}):(0,b.jsxs)("div",{className:"text-center py-16 border border-[var(--border)] rounded-2xl",children:[(0,b.jsx)(k,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"No Saved Tools"}),(0,b.jsx)("p",{className:"text-[var(--muted)] mb-6",children:"Save tools you like to access them quickly later"}),(0,b.jsx)(e.default,{href:"/tools",className:"inline-block px-6 py-3 bg-[var(--foreground)] text-[var(--background)] rounded-full font-semibold hover:opacity-80 transition-opacity",children:"Browse Tools"})]})]}),"stack"===r&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Your AI Stack"}),(0,b.jsx)("p",{className:"text-sm text-[var(--muted)]",children:"Your personal collection of AI tools organized by category"})]}),(0,b.jsxs)("span",{className:"text-[var(--muted)]",children:[I.length," tools"]})]}),y?(0,b.jsx)("div",{className:"flex justify-center py-12",children:(0,b.jsx)(j,{className:"w-6 h-6 animate-spin text-gray-400"})}):I.length>0?(0,b.jsx)("div",{className:"space-y-4",children:Object.entries(I.reduce((a,b)=>(a[b.category]=a[b.category]||[],a[b.category].push(b),a),{})).map(([a,c])=>(0,b.jsxs)("div",{className:"border border-[var(--border)] rounded-2xl overflow-hidden",children:[(0,b.jsx)("div",{className:"px-6 py-3 bg-[var(--surface)] border-b border-[var(--border)]",children:(0,b.jsx)("h3",{className:"font-semibold",children:a})}),(0,b.jsx)("div",{className:"divide-y divide-[var(--border)]",children:c.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(e.default,{href:`/tools/${a.tool?.slug||a.toolId}`,children:(0,b.jsx)("h4",{className:"font-medium hover:underline",children:a.tool?.name||"Unknown Tool"})}),a.notes&&(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.notes})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.default,{href:`/tools/${a.tool?.slug||a.toolId}`,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:(0,b.jsx)(p,{className:"w-4 h-4 text-gray-400"})}),(0,b.jsx)(g,{trigger:(0,b.jsx)("button",{className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:(0,b.jsx)(o,{className:"w-4 h-4"})}),title:"Remove from Stack?",description:"Remove this tool from your AI stack?",confirmText:"Remove",destructive:!0,onConfirm:()=>{A.mutate(a.toolId)}})]})]},a.toolId))})]},a))}):(0,b.jsxs)("div",{className:"text-center py-16 border border-[var(--border)] rounded-2xl",children:[(0,b.jsx)(l,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Build Your AI Stack"}),(0,b.jsx)("p",{className:"text-[var(--muted)] mb-6",children:"Curate your personal collection of AI tools organized by how you use them"}),(0,b.jsx)(e.default,{href:"/tools",className:"inline-block px-6 py-3 bg-[var(--foreground)] text-[var(--background)] rounded-full font-semibold hover:opacity-80 transition-opacity",children:"Explore Tools"})]})]}),"history"===r&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Activity History"}),E?(0,b.jsx)("div",{className:"flex justify-center py-12",children:(0,b.jsx)(j,{className:"w-6 h-6 animate-spin text-gray-400"})}):D?.data&&D.data.length>0?(0,b.jsx)("div",{className:"space-y-4",children:D.data.map(a=>(0,b.jsxs)("div",{className:"flex items-start gap-4 p-4 border border-[var(--border)] rounded-xl",children:[(0,b.jsxs)("div",{className:"flex-shrink-0 w-10 h-10 bg-[var(--surface)] rounded-full flex items-center justify-center",children:["view"===a.eventType&&"ðŸ‘ï¸","click"===a.eventType&&"ðŸ‘†","save"===a.eventType&&"ðŸ’¾","compare"===a.eventType&&"âš–ï¸","flow_start"===a.eventType&&"ðŸš€","flow_complete"===a.eventType&&"âœ…"]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium capitalize",children:a.eventType.replace("_"," ")}),(0,b.jsx)("p",{className:"text-sm text-[var(--muted)]",children:new Date(a.createdAt).toLocaleString()})]})]},a._id))}):(0,b.jsxs)("div",{className:"text-center py-16 border border-[var(--border)] rounded-2xl",children:[(0,b.jsx)(m,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"No Activity Yet"}),(0,b.jsx)("p",{className:"text-[var(--muted)] mb-6",children:"Your tool views, saves, and flow completions will appear here"}),(0,b.jsx)(e.default,{href:"/discover",className:"inline-block px-6 py-3 bg-[var(--foreground)] text-[var(--background)] rounded-full font-semibold hover:opacity-80 transition-opacity",children:"Start Discovery"})]})]}),"settings"===r&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Settings"}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"p-6 border border-[var(--border)] rounded-2xl",children:[(0,b.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Email Preferences"}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",children:[(0,b.jsx)("span",{children:"Email notifications"}),(0,b.jsx)("input",{type:"checkbox",checked:F,onChange:a=>{var b;G(a.target.checked),b=a.target.checked,B.mutate({preferences:{emailNotifications:b}})},className:"w-5 h-5"})]})})]}),(0,b.jsxs)("div",{className:"p-6 border border-[var(--border)] rounded-2xl",children:[(0,b.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Account"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Email"}),(0,b.jsx)("span",{className:"text-[var(--muted)]",children:a?.primaryEmailAddress?.emailAddress})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Member since"}),(0,b.jsx)("span",{className:"text-[var(--muted)]",children:a?.createdAt?new Date(a.createdAt).toLocaleDateString():"-"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Role"}),(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded text-sm capitalize",children:t?.data?.role||"user"})]})]})]}),(0,b.jsxs)("div",{className:"p-6 border border-red-200 dark:border-red-900 rounded-2xl",children:[(0,b.jsx)("h3",{className:"text-lg font-bold mb-4 text-red-600",children:"Danger Zone"}),(0,b.jsx)("p",{className:"text-sm text-[var(--muted)] mb-4",children:"Permanently delete your account and all associated data"}),(0,b.jsx)(g,{trigger:(0,b.jsx)("button",{className:"px-4 py-2 bg-red-500 text-white rounded-lg font-medium hover:bg-red-600 transition-colors disabled:opacity-50",disabled:C.isPending,children:C.isPending?"Deleting...":"Delete Account"}),title:"Delete Your Account?",description:"This action cannot be undone. All your saved tools, AI stack, and preferences will be permanently deleted.",confirmText:"Delete My Account",destructive:!0,onConfirm:()=>{C.mutate()}})]})]})]})]})})]})}a.s(["default",()=>q],9682)}];

//# sourceMappingURL=apps_frontend_src_app_profile_page_tsx_8b833768._.js.map