{"version":3,"sources":["../../../../../../apps/frontend/src/lib/toast.ts","../../../../../../apps/frontend/src/app/discover/%5Bslug%5D/page.tsx"],"sourcesContent":["/**\n * Toast notification utilities\n * Wrapper around react-hot-toast for consistent notifications\n */\n\nimport toast from 'react-hot-toast';\n\nexport const showToast = {\n    success: (message: string) => {\n        toast.success(message);\n    },\n\n    error: (message: string) => {\n        toast.error(message);\n    },\n\n    loading: (message: string) => {\n        return toast.loading(message);\n    },\n\n    promise: <T,>(\n        promise: Promise<T>,\n        messages: {\n            loading: string;\n            success: string;\n            error: string;\n        }\n    ) => {\n        return toast.promise(promise, messages);\n    },\n\n    dismiss: (toastId?: string) => {\n        toast.dismiss(toastId);\n    },\n};\n","/**\n * Flow Detail Page\n * Shows flow info and allows starting the flow\n */\n\n'use client';\n\nimport { use } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useFlow, useStartFlow } from '@/hooks';\nimport { showToast } from '@/lib/toast';\nimport Link from 'next/link';\n\n// Category colors\nconst CATEGORY_COLORS: Record<string, string> = {\n  'career': 'bg-blue-500',\n  'productivity': 'bg-yellow-500',\n  'automation': 'bg-purple-500',\n  'development': 'bg-green-500',\n  'learning': 'bg-orange-500',\n  'marketing': 'bg-pink-500',\n  'design': 'bg-indigo-500',\n};\n\nexport default function FlowDetailPage({ params }: { params: Promise<{ slug: string }> }) {\n  const { slug } = use(params);\n  const router = useRouter();\n  const { data: response, isLoading, error } = useFlow(slug);\n  const startFlowMutation = useStartFlow();\n\n  const flow = response?.data;\n\n  const handleStartFlow = async () => {\n    try {\n      const result = await startFlowMutation.mutateAsync({ slug });\n      showToast.success('Flow started!');\n      router.push(`/discover/${slug}/session/${result.data.sessionId}`);\n    } catch (err) {\n      showToast.error('Failed to start flow');\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"inline-block animate-spin text-6xl mb-4\">‚ö°</div>\n          <p className=\"text-xl text-[var(--muted)]\">Loading flow...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !flow) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"text-6xl mb-4\">üòï</div>\n          <h1 className=\"text-3xl font-bold mb-4\">Flow Not Found</h1>\n          <p className=\"text-[var(--muted)] mb-6\">\n            This discovery flow doesn't exist or has been removed.\n          </p>\n          <Link\n            href=\"/discover\"\n            className=\"inline-block px-6 py-3 bg-[var(--foreground)] text-[var(--background)] rounded-full font-semibold hover:opacity-80 transition-opacity\"\n          >\n            Browse All Flows\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  const categoryColor = CATEGORY_COLORS[flow.category] || 'bg-gray-500';\n\n  return (\n    <div className=\"min-h-screen bg-[var(--background)]\">\n      {/* Header */}\n      <div className=\"border-b border-[var(--border)] bg-[var(--surface)]\">\n        <div className=\"container mx-auto px-4 py-16\">\n          <div className=\"max-w-3xl mx-auto text-center\">\n            {/* Icon */}\n            <div className={`inline-flex items-center justify-center w-24 h-24 ${categoryColor} rounded-2xl mb-6 text-5xl`}>\n              {flow.icon}\n            </div>\n\n            {/* Title */}\n            <h1 className=\"text-4xl md:text-5xl font-bold mb-4\">\n              {flow.title}\n            </h1>\n\n            {/* Description */}\n            <p className=\"text-xl text-[var(--muted)] mb-8\">\n              {flow.description}\n            </p>\n\n            {/* Meta Info */}\n            <div className=\"flex flex-wrap justify-center items-center gap-6 mb-8\">\n              <div className=\"flex items-center gap-2 text-lg\">\n                <span>‚ùì</span>\n                <span>{flow.totalQuestions} questions</span>\n              </div>\n              <div className=\"flex items-center gap-2 text-lg\">\n                <span>‚è±Ô∏è</span>\n                <span>{flow.estimatedTimeMinutes} minutes</span>\n              </div>\n              <span className=\"px-4 py-2 bg-[var(--background)] border border-[var(--border)] rounded-full capitalize\">\n                {flow.category}\n              </span>\n            </div>\n\n            {/* Start Button */}\n            <button\n              onClick={handleStartFlow}\n              disabled={startFlowMutation.isPending}\n              className=\"px-10 py-4 bg-[var(--foreground)] text-[var(--background)] rounded-full font-bold text-lg hover:opacity-80 transition-opacity disabled:opacity-50\"\n            >\n              {startFlowMutation.isPending ? 'Starting...' : 'Start Discovery ‚Üí'}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Questions Preview */}\n      <div className=\"container mx-auto px-4 py-12\">\n        <div className=\"max-w-3xl mx-auto\">\n          <h2 className=\"text-3xl font-bold mb-8 text-center\">\n            What You'll Be Asked\n          </h2>\n\n          <div className=\"space-y-4\">\n            {flow.questions.map((question, index) => (\n              <div\n                key={question.id}\n                className=\"flex gap-4 p-6 border border-[var(--border)] rounded-xl bg-[var(--surface)]\"\n              >\n                <div className=\"flex-shrink-0 w-10 h-10 bg-[var(--foreground)] text-[var(--background)] rounded-full flex items-center justify-center font-bold\">\n                  {index + 1}\n                </div>\n                <div className=\"flex-1\">\n                  <p className=\"text-lg font-medium\">{question.text}</p>\n                  <p className=\"text-sm text-[var(--muted)] mt-1\">\n                    {question.type === 'single' && 'Select one option'}\n                    {question.type === 'multiple' && 'Select multiple options'}\n                    {question.type === 'text' && 'Free text answer'}\n                    {question.type === 'scale' && 'Rate on a scale'}\n                  </p>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Bottom CTA */}\n          <div className=\"mt-12 text-center\">\n            <button\n              onClick={handleStartFlow}\n              disabled={startFlowMutation.isPending}\n              className=\"px-10 py-4 bg-[var(--foreground)] text-[var(--background)] rounded-full font-bold text-lg hover:opacity-80 transition-opacity disabled:opacity-50\"\n            >\n              {startFlowMutation.isPending ? 'Starting...' : 'Start Discovery ‚Üí'}\n            </button>\n            <p className=\"mt-4 text-sm text-[var(--muted)]\">\n              Get personalized AI tool recommendations based on your answers\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}